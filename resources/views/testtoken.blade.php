@php
$str = 'PHNhbWxwOlJlc3BvbnNlIElEPSJfNTc5ZDc1NTAtMGVkYS00MWFmLWExOTQtYzRkZTUzY
2NmOTAyIiBWZXJzaW9uPSIyLjAiIElzc3VlSW5zdGFudD0iMjAyNC0wMS0yM1QwMzo0OTo1My4
4OTRaIiBEZXN0aW5hdGlvbj0iaHR0cHM6Ly9lbmRvY2FwdHVyZXRlc3Quc2lwaC5jb20vZW5kb2l
uZGV4L2xvZ2luIiBDb25zZW50PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6Y29uc2VudDp1b
nNwZWNpZmllZCIgeG1sbnM6c2FtbHA9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpwcm90b2Nv
bCI+PElzc3VlciB4bWxucz0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmFzc2VydGlvbiI+aHR0
cDovL3N0cy5zaXBoaG9zcGl0YWwuY29tL2FkZnMvc2VydmljZXMvdHJ1c3Q8L0lzc3Vlcj48c2FtbHA6U3
RhdHVzPjxzYW1scDpTdGF0dXNDb2RlIFZhbHVlPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6c3RhdH
VzOlN1Y2Nlc3MiIC8+PC9zYW1scDpTdGF0dXM+PEFzc2VydGlvbiBJRD0iXzNiNDlhYzM2LTZjYTItNDk5Ni
05YTRkLWM5Yzg4MTQzODRjMiIgSXNzdWVJbnN0YW50PSIyMDI0LTAxLTIzVDAzOjQ5OjUzLjg5NFoiIFZlcnNp
b249IjIuMCIgeG1sbnM9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphc3NlcnRpb24iPjx
Jc
3N1ZXI+aHR0cDovL3N0cy5zaXBoaG9zcGl0YWwuY29tL2FkZnMvc2VydmljZXMvdHJ1c3Q8L0lz
c3Vlcj48ZHM6U2lnbmF0dXJlIHhtbG5zOmRzPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbG
RzaWcjIj48ZHM6U2lnbmVkSW5mbz48ZHM6Q2Fub25pY2FsaXphdGlvbk1ldGhvZCBBbGdvcml0aG09


Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvMTAveG1sLWV4Yy1jMTRuIyIgLz48ZHM6U2lnbmF0dXJlTWV0aG9kI
EFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxkc2lnLW1vcmUjcnNhLXNoYTI1NiIgL
z48ZHM6UmVmZXJlbmNlIFVSST0iI18zYjQ5YWMzNi02Y2EyLTQ5OTYtOWE0ZC1jOWM4ODE0Mzg0YzIiPjxkc
zpUcmFuc2Zvcm1zPjxkczpUcmFuc2Zvcm0gQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3
htbGRzaWcjZW52ZWxvcGVkLXNpZ25hdHVyZSIgLz48ZHM6VHJhbnNmb3JtIEFsZ29yaXRobT0iaHR0cDovL3
d3dy53My5vcmcvMjAwMS8xMC94bWwtZXhjLWMxNG4jIiAvPjwvZHM6VHJhbnNmb3Jtcz48ZHM6RGlnZXN0TWV
0aG9kIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8wNC94bWxlbmMjc2hhMjU2IiAvPjxkczpE
aWdlc3RWYWx1ZT5sWmpGaTFZYjVwNWN6Y25BYnI0VmF5Q1U2RXhjZGxTMXZSdHhkUEZhSEZnPTwvZHM6RGlnZX
N0VmFsdWU+PC9kczpSZWZlcmVuY2U+PC9kczpTaWduZWRJbmZvPjxkczpTaWduYXR1cmVWYWx1ZT53ZGh3ZWJ1
Zkxma1ZOa2llL3o4VG9BVTNzTGU4UzJNcnFHbnliSlN2N0U1S29ocEY3UVRRWkVVaTA3eHI5d1F1KzZaMjFtYVp
xVHI5SHJNOTc4ejYzdXJQZFgzMVR2dmNBbXNzdXBMcjA5VFpHc3F1Mjl1aVRGUTRLVHkwV0Q1VWhDOXlER1hLRV
FqdXFHRVRkOTNrWmpzUitJaU1GUkJic0R5RkEvR2JoMFFqcjRMaVBpQmNOMDRsR0FzRFZHOVI4eUNUWnlMeUN5RE
dacGwzVzZQMXQxZU8vNWllWnM5TG5DVFZrNXZrcTJQSlRzY0I3TlZDclN4cEkraUlXSERkS1I4RlBPMGpLMjhacUE
3elFhcU41UEhGdHZ6SWJzM0xtWVNtQXNNcGMveHkvK21TTXoycnNKSE5hZE5pN1JqQlNLTElhRlNNUkJ6TmpRbUFO
RkdVb0E9PTwvZHM6U2lnbmF0dXJlVmFsdWU+PEtleUluZm8geG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvM
DkveG1sZHNpZyMiPjxkczpYNTA5RGF0YT48ZHM6WDUwOUNlcnRpZmljYXRlPk1JSUM1RENDQWN5Z0F3SUJBZ0lRWX
liZ3RVd05sckJJbHA3dC94elpiakFOQmdrcWhraUc5dzBCQVFzRkFEQXVNU3d3S2dZRFZRUURFeU5CUkVaVElGTnBa
MjVwYm1jZ0xTQnpkSE11YzJsd2FHaHZjM0JwZEdGc0xtTnZiVEFlRncweU16QXlNRFV4TWpNeU5UbGFGdzB5TkRBeU1EV
XhNak15TlRsYU1DNHhMREFxQmdOVkJBTVRJMEZFUmxNZ1UybG5ibWx1WnlBdElITjBjeTV6YVhCb2FHOXpjR2wwWVd3d
VkyOXRNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQTNqV1NlWmJlWlFTNkFTamlqakI2bEN
DSWNXdkpZQlZQWktROUlYY3h3Zy9Fa2lJaWpJTVQ3VDdTMmkwT0hzS053ckc3dEJvYVpTd1EvcGJvaWJGSnRuYVJ4dlM
1aFhSM1JsbDNNblpNTS9JUGZzVHk0TXhKcEh2aTJ6T0VCT0NHa29sQzRjb2YzRUl1M1oyK1JNakUwQW5TSnFUVEptWFdo
VkJuQm1YNEtOdTBCQmtORzVycHRxQ1dYYk8zVkpKT093cGhDamxoVDNKM0dLR1JBWTZTZXpPcGhseWxmQmgvejBBRXhCR
nowbVR3aXFaVGNCVUJ1OGlQRWVxSEhhdUVOZ1VUZC9qRnNIc3c4eGM0Mm9OS3lWMTVwdGZ4Nnc4aGxwQlFSUHhxTVFTWG
NQNXQ5MUpPVnpqREZ4MUpmR2dhYkIxOGNnbG01VnJxeXRETWpTWFRxd0lEQVFBQk1BMEdDU3FHU0liM0RRRUJDd1VBQTR
JQkFRQU1mS0d5T0tTN1BFKzZpVFFST1JOcHVDU0MzOVpGNzF2SzlaTjBORU9mZW9JZi92c0F4Tm5hYzNIN0tKZGtFV2hPc
DRhbUk5U3JNQzIvTmdjYzY1YzdIbnJiZUVjRDgvcnhYZjNLUjRxTUxweHRFdEptcTdodlJjTHZhbHNIQWFsaktlVWZEN1ZNckVaL3d4MTljaDhTZVVqL2k5OHRUUy9tNnRXZEZHUlgrWGo2c0xvaExyS3Z6YXJBU0V4Y0pqaGNMbkVqVGFIc2ZnTWtGZTlHeE9qREU2YUdxK2NrQ3JIaXdRT3RKZmRPZmJXVStKemZQR3lKY2hTSTRIY29CR0xMbElwazQ5MTdpS2dwTWZ4VTZQTXBXZ0RTVFVCdjMxM1hWQnZ1RjFKaUU0VENJWXpHWVVMTUYrb2NxVnp6ZXk2WEM3a0x3R09YME01Y0R4Z0FVNFRTPC9kczpYNTA5Q2VydGlmaWNhdGU+PC9kczpYNTA5RGF0YT48L0tleUluZm8+PC9kczpTaWduYXR1cmU+PFN1YmplY3Q+PFN1YmplY3RDb25maXJtYXRpb24gTWV0aG9kPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6Y206YmVhcmVyIj48U3ViamVjdENvbmZpcm1hdGlvbkRhdGEgTm90T25PckFmdGVyPSIyMDI0LTAxLTIzVDAzOjU0OjUzLjg5NFoiIFJlY2lwaWVudD0iaHR0cHM6Ly9lbmRvY2FwdHVyZXRl
c3Quc2lwaC5jb20vZW5kb2luZGV4L2xvZ2luIiAvPjwvU3ViamVjdENvbmZpcm1hdGlvbj48L1N1YmplY3Q+PENvbmRpdGlvbnMgTm90QmVmb3JlPSIyMDI0LTAxLTIzVDAzOjQ5OjUzLjg5NFoiIE5vdE9uT3JBZnRlcj0iMjAyNC0wMS0yM1QwNDo0OTo1My44OTRaIj48QXVkaWVuY2VSZXN0cmljdGlvbj48QXVkaWVuY2U+aHR0cHM6Ly9lbmRvY2FwdHVyZXRlc3Quc2lwaC5jb20vZW5kb2luZGV4L2xvZ2luPC9BdWRpZW5jZT48L0F1ZGllbmNlUmVzdHJpY3Rpb24+PC9Db25kaXRpb25zPjxBdHRyaWJ1dGVTdGF0ZW1lbnQ
+PEF0dHJpYnV0ZSBOYW1lPSJOYW1lSUQiPjxBdHRyaWJ1dGVWYWx1ZT50ZXN0YWRmcy5lbmRvYzwvQXR0cmlidXRlVmFsdWU+PC9BdHRyaWJ1dGU+PEF0dHJpYnV0ZSBOYW1lPSJFbWFpbCI+PEF0dHJpYnV0ZVZhbHVlPnRlc3RhZGZzLmVuZG9jQHNpcGhob3NwaXRhbC5jb208L0F0dHJpYnV0ZVZhbHVlPjwvQXR0cmlidXRlPjwvQXR0cmlidXRlU3RhdGVtZW50PjxBdXRoblN0YXRlbWVudCBBdXRobkluc3RhbnQ9IjIwMjQtMDEtMjNUMDM6NDk6NTMuODYzWiI+PEF1dGhuQ29udGV4dD48QXV0aG5Db250ZXh0Q2xhc3NSZWY+dXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmFjOmNsYXNzZXM6UGFzc3dvcmRQcm90ZWN0ZWRUcmFuc3BvcnQ8L0F1dGhuQ29udGV4dENsYXNzUmVmPjwvQXV0aG5Db250ZXh0PjwvQXV0aG5TdGF0ZW1lbnQ+PC9Bc3NlcnRpb24+PC9zYW1scDpSZXNwb
25zZT4=';


$decodedString = base64_decode($str);
// $decodedString->attributes()->Token;
// dd($decodedString);
$xml = simplexml_load_string($decodedString);

// $statusValue = (string) $xml->xpath('//samlp:Status/samlp:StatusCode')[0]['Value'];
// $nameID = (string) $xml->xpath('//Attribute[@Name="NameID"]/AttributeValue')[0];
// $email = (string) $xml->xpath('//Attribute[@Name="Email"]/AttributeValue');
$data = $xml->Assertion->AttributeStatement;

// dd($xml);

// dd($data = $xml->Assertion->AttributeStatement);

$user = array();


foreach ($data->Attribute as $key => $value) {
    $value = (array) $value;

    // dd($value);
    if ($value['@attributes']['Name'] == 'NameID') {
        $user['name'] = $value['AttributeValue'];
    }
    if ($value['@attributes']['Name'] == 'Email') {
        $user['email'] = $value['AttributeValue'];
    }

}

dd($user);

@endphp


<h5>

    {{$data->Attribute[0]->AttributeValue}} <br>
    {{$data->Attribute[1]->AttributeValue}}

    {{-- {{$data}} --}}
    {{-- @foreach ($xml->Assertion() as $a => $b )
        {{$a,'="',$b,"\"\n"}}
    @endforeach --}}
</h5>
{{-- <h5>{{$nameID}}</h5>
<h5>{{$email}}</h5> --}}
