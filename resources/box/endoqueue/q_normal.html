@foreach($queue as $data)
<tr>
    <th class="q_number">{{$q_number}}</th>
    <td class="q_hn">{{$q_hn}}</td>
    <td>{{$q_patientname}}</td>
    <td class="q_start" hour="{{$hour}}" minute="{{$minute}}">{{$q_start}}</td>.

    <td>
        <button class="btn btn-success text-center w-10 p-1 queuecall"
        queuenumber="{{$q_number}}"
        queueid="{{$q_id}}"
        >เรียกคิว
        </button>
    </td>

    <td style=" width:3em">
        <a class="btn btn-info btn-sm" onclick="reprint_q({{$q_id}})"><i class="fas fa-print"></i></a>
    </td>
    <td class="text-center">
        <a
        data-toggle="modal"
        data-target="#modal_del"
        onclick="delmodal('{{$q_status}}',{{$q_id}},'{{$q_type}}','{{$q_number}}','{{$q_hn}}')"><i class="fas fa-times text-danger icon-lg"></i></a>
    </td>
</tr>
@endforeach



<script>
    $(".queuecall").click(function(){
        var queueNUMBER = $(this).attr('queuenumber');
        var queueid     = $(this).attr('queueid');
        // QueueCALL(queueNUMBER);

        $.post("{{$url}}/queue",{
            event       : "sethold",
            q_id        : queueid,
        },function(data, status){
            if(data=="true"){
                socket.emit('queue','refreshdata');
                socket.emit('queue','{"calling":"'+queueNUMBER+'"}');
                $("#button1").hide();
                $("#button3").show();
            }
        });
    });
</script>
